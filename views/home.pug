extends layout

block content
  if admin
    if masquerade
      a(href='/home?login_success=1') Back to Home
    else
      form(action='')
        select(name='masquerade')
          each val in students
            option(value=val.id)=val.sortable_name
        input(type='hidden', name='login_success', value='1')
        input(type='submit' value='Masquerade as Student')
  .user_content(style='margin-top: 0px !important;')
  .onexys_styling.o_hompage
    .left(style='width: 360px; margin-top: -10px;')
      #points.standard_box.left
        h2 My Points
        p#point_count= score
        #flag.blue
          if daily_yalie.id == null
            a(title='Open Daily Task', href='https://'+heroku_app+'.herokuapp.com/404', target='_blank')
              img(src='https://'+heroku_app+'.herokuapp.com/images/homepage/'+home_updates.daily_task_img)
          else
            if daily_yalie.id == -1
              // An assignment matching the Daily Task criteria is valid and does exist, but it is has not opened for students yet.
              a(title='Open Daily Task', href='https://'+heroku_app+'.herokuapp.com/not-open', target='_blank')
                img(src='https://'+heroku_app+'.herokuapp.com/images/homepage/'+home_updates.daily_task_img)
            else
              a(title='Open Daily Task', href='https://curryvirginia.instructure.com/courses/'+courseID+'/assignments/'+daily_yalie.id, target='_blank')
                img(src='https://'+heroku_app+'.herokuapp.com/images/homepage/'+home_updates.daily_task_img)
      #leaderboard.standard_home_box.left
        h2 Leaderboard
        table
          thead
            tr
              th Place
              th Team
              th Score
          tbody
            tr.leader_1
              td 1
              td= leaderboard[0].Name
              td= leaderboard[0].Score
            tr.leader_2
              td 2
              td= leaderboard[1].Name
              td= leaderboard[1].Score
            tr.leader_3
              td 3
              td= leaderboard[2].Name
              td= leaderboard[2].Score
            tr.leader_me
              td
                #myteam_head MY TEAM
              td= my_team.Name
              td= my_team.Score
      #recent_badges.standard_home_box.left(style='width: 313px; height: 180px;')
        h2 Recent Badges

        each badge in awarded_badges

          #recent_badge1.badge_container.completed(class='badge'+badge._id, style='margin-left: 1px; margin-right: 10px; margin-bottom: 20px; width: 80px; height: 90px;')
            .badge_descriptor.badge_box
              h3
              p  
            .badge_points.badge_box
              p  
            .badge_portrait(style='width: 80px; height: 100px; background-image: url(https://'+heroku_app+'.herokuapp.com/images/badgePics/'+badge.EarnedHoverURL+')')
            .badge_portrait.front_portrait(style='width: 80px; height: 100px; background-image: url(https://'+heroku_app+'.herokuapp.com/images/badgePics/'+badge.EarnedURL+')')
            .badge_label.badge_box
              h3s
              p  

        br
        .clear
        p#badges_link_sentence
          a(id='', title='info_Badges', href=home_updates.badges_link, target='_blank') Click here to see all your badges.
      #progress.standard_home_box.left(style='width: 324px;')
        h2 My Progress So Far

        .module_0.module_background_0
          a.progress_box.single_line.completed(style='width: 187.5px !important; background-image: url(https://'+heroku_app+'.herokuapp.com/images/progress_bar/'+home_updates.pre_test_button_background+'_1.png);')  Pre-Test
        #progress_labels(style='margin-left: 15px !important;')
          p Pract.
          p Apply
        br
        .clear
